<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Follow your favourite team!</title>

  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.4/js/standalone/selectize.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.4/css/selectize.css" rel="stylesheet" />

  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>

  <style>
    :root {
      --jumbotron-padding-y: 3rem;
    }

    .jumbotron {
      padding-top: var(--jumbotron-padding-y);
      padding-bottom: var(--jumbotron-padding-y);
      margin-bottom: 0;
      background-color: #fff;
    }
    @media (min-width: 768px) {
      .jumbotron {
        padding-top: calc(var(--jumbotron-padding-y) * 2);
        padding-bottom: calc(var(--jumbotron-padding-y) * 2);
      }
    }

    .jumbotron p:last-child {
      margin-bottom: 0;
    }

    .jumbotron-heading {
      font-weight: 300;
    }

    .jumbotron .container {
      max-width: 40rem;
    }

    footer {
      padding-top: 3rem;
      padding-bottom: 3rem;
    }

    footer p {
      margin-bottom: .25rem;
    }

    .box-shadow { box-shadow: 0 .25rem .75rem rgba(0, 0, 0, .05); }

  </style>

</head>
<body>

<header>
  <div class="collapse bg-dark" id="navbarHeader">

    <div class="container">
      <div class="row">
        <div class="col-sm-8 col-md-7 py-4">
          <h4 class="text-white">About</h4>
          <p class="text-muted">We're just starting something.</p>
        </div>
        <div class="col-sm-4 offset-md-1 py-4">
          <h4 class="text-white">Contact</h4>
          <ul class="list-unstyled">
            <li><a href="#" class="text-white">Follow on Twitter (soon)</a></li>
            <li><a href="#" class="text-white">Like on Facebook (maybe)</a></li>
            <li><a href="#" class="text-white">Email me (never)</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="navbar navbar-dark bg-dark box-shadow">
    <div class="container d-flex justify-content-between">
      <a href="#" class="navbar-brand d-flex align-items-center">
        <svg height="32px" version="1.1" viewBox="0 0 32 32" width="32px" xmlns="http://www.w3.org/2000/svg"><title/><desc/><defs/><g fill="none" fill-rule="evenodd" id="Page-1" stroke="none" stroke-width="1"><g fill="black" id="icon-6-soccer-ball"><path d="M8.81549973,14.5511943 L5.01103079,17.0082671 C5.1100006,19.2839188 5.87031523,21.3879864 7.1045629,23.1330581 L11.149279,22.910884 L11.149279,22.910884 L13.613538,20.3590691 L12.361918,16.0565595 L8.81549973,14.5511943 L8.81549973,14.5511943 Z M8.904262,13.5025113 L7.36260017,9.51633207 L7.36260017,9.51633207 C8.66528097,7.8144886 10.4326582,6.48718902 12.475186,5.72397927 L16,8.5930221 L16,8.5930221 L16,12.4069779 L12.6833059,15.1066203 L8.904262,13.5025113 L8.904262,13.5025113 Z M12.1221299,23.343024 L13.2325345,27.5291853 L13.2325345,27.5291853 C14.2682644,27.8355535 15.3649279,28 16.5,28 C17.6350721,28 18.7317356,27.8355535 19.7674655,27.5291853 L20.8535823,23.4345878 L20.8535823,23.4345878 L18.5025282,21 L14.3847619,21 L12.1221299,23.343024 L12.1221299,23.343024 L12.1221299,23.343024 Z M21.7316974,22.9043461 L25.8954371,23.1330581 C27.1296848,21.3879864 27.8899994,19.2839188 27.9889692,17.0082671 L24.1502985,14.5291055 L24.1502985,14.5291055 L20.6502313,16.0147959 L19.3603693,20.448764 L21.7316974,22.9043461 L21.7316974,22.9043461 L21.7316974,22.9043461 Z M24.1126764,13.4587148 L25.6373998,9.51633207 L25.6373998,9.51633207 C24.334719,7.8144886 22.5673418,6.48718902 20.524814,5.72397927 L20.524814,5.72397927 L17,8.5930221 L17,12.4069779 L20.2871352,15.0825607 L24.1126764,13.4587148 L24.1126764,13.4587148 L24.1126764,13.4587148 Z M16.5,29 C23.4035597,29 29,23.4035597 29,16.5 C29,9.59644029 23.4035597,4 16.5,4 C9.59644029,4 4,9.59644029 4,16.5 C4,23.4035597 9.59644029,29 16.5,29 L16.5,29 Z" id="soccer-ball"/></g></g></svg>
        <strong>SportCal</strong>
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </div>

</header>

<main role="main" class="container">

  <section class="jumbotron text-center">
    <div class="container">
      <h1 class="jumbotron-heading">Follow your teams</h1>
      <p class="lead text-muted">Select your favorite teams from our {{teams|length}} and create reminders in your calendar.</p>
      <form method="POST">
        <div class="form-row">
          <div class="form-group col-md-9">
            <select id="select-team" class="form-control" multiple="" name="selected_teams">
              <!--<option value="">Select One or more teams</option>-->
              {% for team in teams %}
              <option value="{{team.id}}" {% if team.id in selected_team_values%} selected="selected" {% endif %}>{{team.name}}</option>
              {% endfor %}
            </select>
          </div>
          <div class="form-group col-md-3">
            <input type="submit" value="Show events" name="events" class="form-control btn btn-secondary"/>
          </div>
        </div>

        {% if selected_team_values %}
        <div class="form-row">
          <div class="form-group col-md-9">
            <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                   placeholder="Enter email address" name="email_address">
            <!--<small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>-->
          </div>
          <div class="form-group col-md-3">
            <input type="submit" value="Create calendar" name="calendar" class="form-control btn btn-primary"/>
          </div>
        </div>
        {% endif %}

      </form>
    </div>
  </section>

  {% if events %}
  <div class="container">
    <div class="row">
      {% for event in events[:15]%}
      <ul class="col-md-10 offset-md-1">
        <li>
          <p class="card-text">
            {{event.scheduled|strftime}}:
            <strong>{{event.competitors[0].name}} vs {{event.competitors[1].name}}</strong> ({{event.tournament.name}})
            {% if 'venue' in event %}
            - {{event.venue.name}}, {{event.venue.city_name}}, {{event.venue.country_name}}</p>
            {% endif %}
        </li>
      </ul>
      {% endfor %}
    </div>
  </div>
  {% endif %}

</main>

<footer class="text-muted">
  <hr>
  <div class="container">
    <p>Made with love in Paris & 60 minutes.</p>
  </div>
</footer>

</body>
</html>
<script>
    $(document).ready(function() {
//        $('#select-team').selectize({
//            plugins: ['remove_button'],
//            items:{{selected_team_values|safe}},
//    });
        $('#select-team').select2({
            placeholder: 'Select teams...',
        });
        console.log("HERE WE GO!");
    });
</script>